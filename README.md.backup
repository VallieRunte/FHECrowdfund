# Crowdfund Platform

[![Tests](https://github.com/YOUR_ORG/crowdfund-platform/workflows/Tests/badge.svg)](https://github.com/YOUR_ORG/crowdfund-platform/actions)
[![CodeQL](https://github.com/YOUR_ORG/crowdfund-platform/workflows/CodeQL%20Security%20Analysis/badge.svg)](https://github.com/YOUR_ORG/crowdfund-platform/actions)
[![codecov](https://codecov.io/gh/YOUR_ORG/crowdfund-platform/branch/main/graph/badge.svg)](https://codecov.io/gh/YOUR_ORG/crowdfund-platform)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)
[![Solidity](https://img.shields.io/badge/solidity-0.8.24-blue)](https://docs.soliditylang.org/en/v0.8.24/)
[![Hardhat](https://img.shields.io/badge/hardhat-2.22.0-yellow)](https://hardhat.org/)

## Overview

A blockchain-based crowdfunding platform built on Ethereum that enables transparent and secure campaign creation and funding. The platform provides a decentralized solution for collective investment and community-driven projects with smart contract automation.

## Key Features

### Campaign Management
- **Campaign Creation**: Create funding campaigns with customizable targets and deadlines
- **Transparent Tracking**: Monitor campaign progress and contributions in real-time
- **Automated Processing**: Smart contracts handle all campaign logic automatically

### Contribution System
- **Secure Contributions**: Make contributions through secure blockchain transactions
- **Balance Tracking**: Track individual contributions and campaign totals
- **Refund Mechanism**: Automated refunds for unsuccessful campaigns

### Smart Contract Security
- **Decentralized Operation**: Fully on-chain execution with no intermediaries
- **Ethereum Network**: Built on the secure and battle-tested Ethereum blockchain
- **Automated Execution**: All operations handled by audited smart contracts

## Technology Stack

### Development Framework
- **Hardhat**: Professional Ethereum development environment
- **Solidity 0.8.24**: Latest stable Solidity version with optimizer enabled
- **Ethers.js v6**: Modern Web3 library for blockchain interaction

### Smart Contracts
- **Contract**: CrowdfundPlatform
- **Network**: Sepolia Testnet (ready for mainnet)
- **Compiler**: Solidity 0.8.24 with 200 optimization runs

### Tools and Libraries
- **OpenZeppelin**: Industry-standard secure contract libraries
- **Hardhat Toolbox**: Complete testing and deployment suite
- **dotenv**: Secure environment variable management

## Project Structure

```
project/
├── contracts/
│   └── PrivacyCrowdfund.sol     # Main crowdfunding contract
├── scripts/
│   ├── deploy.js                # Deployment script with detailed output
│   ├── verify.js                # Etherscan verification script
│   ├── interact.js              # Contract interaction examples
│   └── simulate.js              # Full campaign simulation
├── deployments/                 # Deployment information (auto-generated)
├── test/                        # Contract tests
├── hardhat.config.js           # Hardhat configuration
├── .env.example                # Environment template
├── DEPLOYMENT.md               # Comprehensive deployment guide
└── README.md                   # This file
```

## Quick Start

### Prerequisites

- Node.js v16 or higher
- npm or yarn
- MetaMask or Web3 wallet
- Alchemy/Infura API key
- Etherscan API key

### Installation

```bash
# Install dependencies
npm install

# Configure environment
cp .env.example .env
# Edit .env with your credentials
```

### Compilation

```bash
# Compile contracts
npx hardhat compile
```

### Testing

```bash
# Run tests
npx hardhat test

# Run tests with coverage
npx hardhat coverage
```

### Deployment

#### Deploy to Sepolia Testnet

```bash
# Deploy contract
npx hardhat run scripts/deploy.js --network sepolia

# Verify on Etherscan
npx hardhat run scripts/verify.js --network sepolia

# Interact with contract
npx hardhat run scripts/interact.js --network sepolia

# Run simulation
npx hardhat run scripts/simulate.js --network sepolia
```

#### Deploy to Local Network

```bash
# Start local node
npx hardhat node

# In another terminal, deploy
npx hardhat run scripts/deploy.js --network localhost
```

## Usage Guide

### Creating a Campaign

```javascript
const targetAmount = ethers.parseEther("1.0");
const duration = 7 * 24 * 60 * 60; // 7 days
const encryptedTarget = ethers.AbiCoder.defaultAbiCoder().encode(
  ["uint256"],
  [targetAmount]
);

await contract.createCampaign(
  encryptedTarget,
  duration,
  "Campaign Title",
  "Campaign Description"
);
```

### Contributing to a Campaign

```javascript
const amount = ethers.parseEther("0.1");
const encrypted = ethers.AbiCoder.defaultAbiCoder().encode(
  ["uint256"],
  [amount]
);

await contract.contribute(campaignId, encrypted, { value: amount });
```

### Checking Campaign Status

```javascript
// Get campaign information
const info = await contract.getCampaignInfo(campaignId);

// Check if goal reached
const goalReached = await contract.checkGoalReached(campaignId);

// Get contribution amount
const myContribution = await contract.getMyContribution(campaignId);
```

## Available Scripts

### Hardhat Commands

```bash
# Compile contracts
npm run compile

# Run tests
npm run test

# Deploy to network
npm run deploy                    # Deploy to default network
npm run deploy:local              # Deploy to localhost
npm run deploy:sepolia            # Deploy to Sepolia

# Start local node
npm run node

# Check contract size
npm run size-contracts

# Generate coverage report
npm run coverage
```

### Custom Scripts

```bash
# Complete deployment workflow
npx hardhat run scripts/deploy.js --network sepolia

# Verify contract on Etherscan
npx hardhat run scripts/verify.js --network sepolia

# Interact with deployed contract
npx hardhat run scripts/interact.js --network sepolia

# Run campaign simulation
npx hardhat run scripts/simulate.js --network sepolia
```

### Code Quality Scripts

```bash
# Lint Solidity contracts
npm run lint:sol

# Auto-fix Solidity issues
npm run lint:sol:fix

# Check code formatting
npm run lint:check

# Fix code formatting
npm run lint:fix

# Format all code (Prettier + Solhint)
npm run format
```

## Contract Information

### CrowdfundPlatform Contract

**Main Functions:**

- `createCampaign()`: Create a new funding campaign
- `contribute()`: Contribute funds to a campaign
- `checkGoalReached()`: Verify if campaign goal is met
- `withdrawFunds()`: Withdraw funds from successful campaign
- `refund()`: Request refund from unsuccessful campaign
- `getCampaignInfo()`: Retrieve campaign details
- `getMyContribution()`: Check personal contribution amount
- `getMyBalance()`: View personal balance in contract

**Events:**

- `CampaignCreated`: Emitted when new campaign is created
- `ContributionMade`: Emitted when contribution is made
- `CampaignFunded`: Emitted when funds are withdrawn
- `RefundIssued`: Emitted when refund is processed

## Network Configuration

### Sepolia Testnet

- **Network**: Sepolia
- **Chain ID**: 11155111
- **RPC**: https://eth-sepolia.g.alchemy.com/v2/YOUR_API_KEY
- **Explorer**: https://sepolia.etherscan.io
- **Faucet**: https://sepoliafaucet.com

### Ethereum Mainnet

- **Network**: Mainnet
- **Chain ID**: 1
- **RPC**: https://eth-mainnet.g.alchemy.com/v2/YOUR_API_KEY
- **Explorer**: https://etherscan.io

## Deployment Information

### Contract Address

After deployment, contract information will be saved in:
```
deployments/<network>_deployment.json
```

This includes:
- Contract address
- Deployer address
- Deployment timestamp
- Transaction hash
- Block number
- Etherscan link

### Etherscan Verification

Contracts are automatically verified on Etherscan after deployment using the verify script. Verified contracts allow public interaction through the Etherscan interface.

## Security Considerations

- All environment variables stored in `.env` file (never commit!)
- Private keys secured with proper access controls
- Smart contracts use latest Solidity security patterns
- OpenZeppelin libraries for standard functionality
- Comprehensive testing before deployment

## Development Workflow

1. **Setup**: Install dependencies and configure environment
2. **Development**: Write and test smart contracts locally
3. **Testing**: Run comprehensive test suite
4. **Deployment**: Deploy to testnet (Sepolia)
5. **Verification**: Verify contract on Etherscan
6. **Interaction**: Test deployed contract functionality
7. **Simulation**: Run end-to-end scenarios
8. **Mainnet**: Deploy to production after thorough testing

## Testing

The project includes comprehensive test coverage for:
- Campaign creation and management
- Contribution processing
- Goal tracking and verification
- Fund withdrawal mechanisms
- Refund processing
- Access control and permissions

Run tests with:
```bash
npx hardhat test
```

## Documentation

- **DEPLOYMENT.md**: Complete deployment guide with step-by-step instructions
- **TESTING.md**: Comprehensive testing documentation and best practices
- **CI_CD.md**: CI/CD workflows and automation documentation
- **Hardhat Docs**: https://hardhat.org/docs
- **Ethers.js Docs**: https://docs.ethers.org
- **Solidity Docs**: https://docs.soliditylang.org

## CI/CD and Automation

This project uses GitHub Actions for continuous integration and deployment.

### Automated Workflows

**Tests Workflow** (`.github/workflows/test.yml`)
- Runs on push to `main`/`develop` and pull requests
- Tests on Node.js 18.x and 20.x
- Executes Solhint linting
- Runs full test suite
- Generates and uploads coverage to Codecov
- Performs code quality checks

**Manual Test Workflow** (`.github/workflows/manual.yml`)
- Manually triggered via GitHub Actions UI
- Choose environment (localhost/sepolia)
- Full test execution with coverage

**Deploy Workflow** (`.github/workflows/deploy.yml`)
- Manually triggered deployment
- Deploy to localhost or sepolia
- Optional Etherscan verification
- Artifact uploads

**CodeQL Security Analysis** (`.github/workflows/codeql.yml`)
- Automated security scanning
- Runs on push, PR, and weekly schedule
- Identifies security vulnerabilities

### Code Quality Tools

**Solhint**: Solidity linter
```bash
npm run lint:sol        # Lint contracts
npm run lint:sol:fix    # Auto-fix issues
```

**Prettier**: Code formatter
```bash
npm run lint:check      # Check formatting
npm run lint:fix        # Fix formatting
```

**Codecov**: Coverage tracking
- Automatic coverage reports
- 80% coverage target
- Pull request comments with coverage changes

### Required Secrets

Configure in GitHub repository settings:
- `SEPOLIA_RPC_URL`: RPC endpoint for Sepolia testnet
- `PRIVATE_KEY`: Deployer wallet private key
- `ETHERSCAN_API_KEY`: Etherscan verification key
- `CODECOV_TOKEN`: Codecov upload token

For detailed CI/CD documentation, see [CI_CD.md](CI_CD.md).

## Support

For issues, questions, or contributions:
- Review documentation in DEPLOYMENT.md
- Check Hardhat documentation
- Consult Etherscan for on-chain data
- Review contract source code and comments

## License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

---

**Built with Hardhat - Professional Ethereum Development Framework**
